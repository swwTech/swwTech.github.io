(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{465:function(e,t,n){},514:function(e,t){},539:function(e,t,n){"use strict";n(465)},544:function(e,t,n){"use strict";n.r(t);n(21),n(46),n(28),n(89),n(5),n(152);var r=new(n(3).a),o={functional:!0,render:function(e,t){var n=t.parent,r=t.children,o=t.listeners;if(n._isMounted)return o.contentReady&&o.contentReady(),r;n.$once("hook:mounted",(function(){n.$forceUpdate()}))}},c=n(17),i=Object(c.a)(o,void 0,void 0,!1,null,null,null).exports,d=n(513),p={name:"EncryptedContent",components:{MyClientOnly:i},props:{keyName:{type:String,required:!0},owners:{type:String,required:!0},encrypted:{type:Boolean,required:!0}},data:function(){return{encryptedContent:"",keyFromInput:"",decryptedComponent:""}},computed:{contentTitle:function(){return"加密内容"},unencryptedText:function(){return"未加密内容"},encryptedText:function(){return"该内容已加密"},decryptedText:function(){return"文章已成功解密。"},decryptButtonText:function(){return"查看"},icon:function(){return this.encrypted?(this.decryptedComponent,""):""}},methods:{onContentReady:function(){var e=this;this.$nextTick((function(){e.encrypted?e.encryptedContent=e.$refs.content.innerText.replace(/\s/g,"").replace(/\*/g,"="):r.$emit("decrypt-already")}))},onConfirm:function(){var e=this;try{var t=d.AES.decrypt(this.encryptedContent,this.keyFromInput).toString(d.enc.Utf8);this.$nextTick((function(){var n=t.replace(/\s*/g,"");if(0==n.length||""==n)alert("密码错误，请留言获取密码，或者联系 youweics@163.com"),r.$emit("decrypt-failed");else{var o=JSON.parse(t).component;e.decryptedComponent=o,r.$emit("decrypt-succeed")}}))}catch(e){alert("密码错误，请留言获取密码，或者联系 youweics@163.com"),console.log(e),r.$emit("decrypt-failed")}}}},u=(n(539),Object(c.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("MyClientOnly",{on:{contentReady:e.onContentReady}},[n("div",{staticClass:"encrypted-header"},[e.icon?n("p",{staticClass:"encrypted-icon"},[n("i",{class:e.icon})]):e._e(),e._v(" "),n("p",{staticClass:"encrypted-title"},[e._v("\n        "+e._s(e.contentTitle)+"\n      ")]),e._v(" "),e.encrypted?e.decryptedComponent?n("div",[n("p",[e._v(e._s(e.decryptedText))])]):n("div",[n("p",[e._v(e._s(e.encryptedText))]),e._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.keyFromInput,expression:"keyFromInput",modifiers:{lazy:!0}}],attrs:{type:"password"},domProps:{value:e.keyFromInput},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onConfirm.apply(null,arguments)},change:function(t){e.keyFromInput=t.target.value}}}),e._v(" "),n("button",{on:{click:e.onConfirm}},[e._v("\n            "+e._s(e.decryptButtonText)+"\n          ")])])]):n("div",[n("p",[e._v(e._s(e.unencryptedText))])])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.encrypted,expression:"!encrypted"}],ref:"content"},[e._t("default")],2),e._v(" "),e.decryptedComponent?n(e.decryptedComponent,{tag:"component"}):e._e()],1)],1)}),[],!1,null,null,null));t.default=u.exports}}]);